__CookBook__ - это веб-приложение на Django для публикации кулинарных рецептов, их оценки и взаимодействия пользователей через систему избранного и рейтингов.


__Основной функционал__:\
• Регистрация по email с подтверждением через код (код хранится в _Redis_, срок действия 5 минут). \
• Авторизация по email (username отключён).\
• Создание, редактирование и удаление рецептов зарегистрированными пользователями.\
• Рецепт состоит из: названия, категории, изображения, описания и пошаговой инструкции (_CKEditor 5_).\
• Система рейтингов (от 1 до 5), один пользователь - одна оценка.\
• Возможность добавлять рецепты в Избранное.\
• Страница с лучшими рецептами (рейтинг > 4.7) и фильтрацией по категориям.\
• Поиск рецептов по названию, категории или автору.\
• Уведомления авторов по email:<br>
    - при сохранении рецепта более 500 раз;\
    - при попадании рецепта в топ (> 4.7).\
• Асинхронная обработка уведомлений через _Celery_ + _Redis_.\
• _AJAX_ для действий без перезагрузки (добавление в избранное, проверка вводимых/изменяемых данных).


__Дополнительные возможности__:\
• Личный кабинет:\
    - просмотр своих рецептов и избранных;\
    - редактирования профиля (email, биография, аватар);\
    - удаление аккаунта _AJAX_-запросом.\
• Публичный профиль пользователя с опубликованными рецептами и фильтрацией по категориям.\
• Cброс пароля по ссылке (отправляемя на почту).\
• Динамическая проверка уникальности email и никнейма через _AJAX_.\
• Обработка ошибок 403, 404 и 500 с кастомными шаблонами.


__Особенности и комментарии__:\
• Email-рассылка может работать нестабильно без _VPN_, рекомендуется использование собственных _SMTP_-данных (добавлять в .env).\
• Верификация email и сохранение временных данных при регистрации реализованы через _Redis_; по истечении 30 минут удаляются.\
• Использование _Celery_ для асинхронной отправки уведомления, брокер сообщений и бэкэнд для хранения результатов - _Redis_.\
• На данные накладываются ограничения:\
    - размер изображение ≤ 1 МБ;\
    - первая буква должна быть заглавной;\
    - пароль ≥ 8 символов и содержит цифру, заглавную букву и спецсимвол.


__Технологии__:\
Backend: _Django 5, Django ORM, Django Signals, Celery, Redis_\
Frontend: _Bootstrap, CKEditor 5, JavaScript (AJAX)_\
База данных: _SQLite_\
Аутентификация: кастомная модель пользователя (email вместо username)\
Email: _django.core.mail + smtplib_


__Установка и запуск__
1. Клонирование репозитория \
    https://github.com/Keka17/CookBook.git<br>
    cd CookBook

2. Создание виртуального окружения и установка зависимостей\
    python -m venv venv \
    source venv/bin/activate   # Linux/Mac \
    venv\Scripts\activate      # Windows \
    pip install -r requirements.txt

3. Настройка переменных окружения\
    Создать в корневой папке проекта файл .env и после настройки почтового клиента:\
      EMAIL_HOST_USER="почта для рассылки"\
      EMAIL_HOST_PASSWORD="пароль от почтового клиента"

4. Применение миграций и запуск сервера\
    python manage.py migrate\
    python manage.py createsuperuser  # создание суперпользователя <br>
    python manage.py runserver

5. Запуск Redis (с предварительной установкой) и Celery:\
    redis-server\
    celery -A project worker -l info


__Готовая база данных и медиафайлы__\
В проекте по умолчанию используется пустая база _SQLite_ (_db.sqlite3_) и пустая папка media/.\
Чтобы быстрее ознакомиться с функционалом сайта, можно развернуть готовую базу данных и медиафайлы с примерами рецептов и картинок:
1. Скачайте архив с __db.sqlite3__ и папкой __media/__:<br> https://drive.google.com/drive/folders/1cQOt9J_nyjy0VBCWs4eA88KQhr4gf4y-?dmr=1&ec=wgc-drive-globalnav-goto
2. Распакуйте файлы в корневую папку проекта.


Приложение будет доступно по адресу: http://127.0.0.1:8000/ <br>
Контакты: _vihalfblood@gmail.com_
